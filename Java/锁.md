### CAS（比较并交换）操作
- CAS的ABA问题
- 自旋会浪费处理器资源
- 公平性问题

### 各种锁
Java对象头里的Mark Word里（markword是java对象数据结构中的一部分）无锁状态存放是的对象的Hashcode，分代年龄和锁标记位。有锁状态根据锁类型而不同。
Java SE 1.6中，锁一共有四种状态，级别从低到高依次是：无锁状态（0 01），偏向锁状态（1 01），轻量级锁状态（00）和重量级锁状态（10），这几个状态会随着竞争情况逐渐升级，锁可以升级但是不可以降级（为了提高获得锁和释放锁的效率）
#### 偏向锁
偏向锁
  大多数情况下，锁不仅不存在多线程竞争，而且总是由同一个线程多次获得，为了让线程获得锁的代价更低而引入了偏向锁。JDK1.6之后 偏向锁默认开启偏向锁是锁状态中最乐观的一种锁：从始至终只有一个线程请求同一把锁
####轻量级锁


> Written with [StackEdit](https://stackedit.io/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTEyNDY1OTk5MzVdfQ==
-->